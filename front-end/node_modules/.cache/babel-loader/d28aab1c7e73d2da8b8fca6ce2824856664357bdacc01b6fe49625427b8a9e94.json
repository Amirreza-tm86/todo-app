{"ast":null,"code":"import axios from 'axios';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'signin',\n  setup() {\n    const email = ref('');\n    const password = ref('');\n    const store = useStore();\n    const error = ref(false);\n    const result = ref(false);\n    const isError = ref(false);\n    const submitSiginup = e => {\n      e.preventDefault();\n      axios.post('http://localhost:3000/signin', {\n        email: store.state.email,\n        password: store.state.password,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        store.state.result = res.data;\n        store.state.isError = false;\n        store.state.delresult = true;\n        localStorage.setItem('user', JSON.stringify(res));\n        store.state.user = JSON.parse(localStorage.getItem('user'));\n        console.log(store.state.user);\n        store.state.results = true;\n      }).catch(err => {\n        store.state.isError = true;\n        store.state.delresult = false;\n        store.state.results = false;\n        console.log(state.result);\n        state.error = err.response.data.msg;\n        console.log(err.response);\n      });\n    };\n    return {\n      email,\n      password,\n      error,\n      isError,\n      submitSiginup,\n      store,\n      result\n    };\n  }\n};","map":{"version":3,"mappings":"AA+BA,OAAOA,KAAI,MAAO,OAAM;AACxB,SAASC,GAAE,QAAS,KAAI;AACxB,SAASC,QAAO,QAAS,MAAK;AAC9B,eAAe;EACXC,IAAI,EAAE,QAAQ;EACdC,KAAK,GAAG;IACJ,MAAMC,KAAI,GAAIJ,GAAG,CAAC,EAAE;IACpB,MAAMK,QAAO,GAAIL,GAAG,CAAC,EAAE;IACvB,MAAMM,KAAI,GAAIL,QAAQ,EAAC;IACvB,MAAMM,KAAI,GAAIP,GAAG,CAAC,KAAK;IACvB,MAAMQ,MAAK,GAAIR,GAAG,CAAC,KAAK;IACxB,MAAMS,OAAM,GAAIT,GAAG,CAAC,KAAK;IACzB,MAAMU,aAAY,GAAKC,CAAC,IAAK;MACzBA,CAAC,CAACC,cAAc,EAAC;MACjBb,KAAK,CAACc,IAAI,CAAC,8BAA8B,EAAE;QACvCT,KAAK,EAAEE,KAAK,CAACQ,KAAK,CAACV,KAAK;QACxBC,QAAQ,EAAEC,KAAK,CAACQ,KAAK,CAACT,QAAQ;QAC9BU,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAClD,CAAC,EACIC,IAAI,CAAEC,GAAG,IAAK;QACXX,KAAK,CAACQ,KAAK,CAACN,MAAK,GAAIS,GAAG,CAACC,IAAG;QAC5BZ,KAAK,CAACQ,KAAK,CAACL,OAAM,GAAI,KAAI;QAC1BH,KAAK,CAACQ,KAAK,CAACK,SAAQ,GAAI,IAAG;QAC3BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACN,GAAG,CAAC;QAChDX,KAAK,CAACQ,KAAK,CAACU,IAAG,GAAIF,IAAI,CAACG,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC;QAC1DC,OAAO,CAACC,GAAG,CAACtB,KAAK,CAACQ,KAAK,CAACU,IAAI,CAAC;QAC7BlB,KAAK,CAACQ,KAAK,CAACe,OAAM,GAAI,IAAG;MAC7B,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACZzB,KAAK,CAACQ,KAAK,CAACL,OAAM,GAAI,IAAG;QACzBH,KAAK,CAACQ,KAAK,CAACK,SAAQ,GAAI,KAAI;QAC5Bb,KAAK,CAACQ,KAAK,CAACe,OAAM,GAAI,KAAI;QAC1BF,OAAO,CAACC,GAAG,CAACd,KAAK,CAACN,MAAM,CAAC;QACzBM,KAAK,CAACP,KAAI,GAAIwB,GAAG,CAACC,QAAQ,CAACd,IAAI,CAACe,GAAE;QAClCN,OAAO,CAACC,GAAG,CAACG,GAAG,CAACC,QAAQ;MAC5B,CAAC;IACT;IAEA,OAAO;MACH5B,KAAK;MACLC,QAAQ;MACRE,KAAK;MACLE,OAAO;MACPC,aAAa;MACbJ,KAAK;MACLE;IACJ;EACJ;AACJ","names":["axios","ref","useStore","name","setup","email","password","store","error","result","isError","submitSiginup","e","preventDefault","post","state","headers","then","res","data","delresult","localStorage","setItem","JSON","stringify","user","parse","getItem","console","log","results","catch","err","response","msg"],"sourceRoot":"","sources":["/home/amirrezatahmasebi/Documents/node-js/front-end/src/components/signin.vue"],"sourcesContent":["<template>\n    <form class=\"formAuth\" @submit=\"submitSiginup\">\n        <div class=\"container\">\n            <div>\n                <h1>Sign In</h1>\n                <p>Please fill in this form to create an account.</p>\n                <hr>\n\n                <label for=\"email\"><b>Email</b></label>\n                <input class=\"input\" v-model=\"store.state.email\" type=\"text\" placeholder=\"Enter Email\" name=\"email\"\n                    required>\n\n                <label for=\"psw\"><b>Password</b></label>\n                <input class=\"input\" v-model=\"store.state.password\" type=\"password\" placeholder=\"Enter Password\"\n                    name=\"psw\" required>\n\n                <div class=\"clearfix\">\n                    <button type=\"submit\" class=\"signupbtn\">Sign In</button>\n                </div>\n                <div class=\"error\" v-if=\"store.state.isError\">\n                    {{ store.state.error }}\n                </div>\n                <div v-if=\"store.state.result\">\n                    {{ store.state.result }}\n                </div>\n            </div>\n        </div>\n    </form>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { ref } from 'vue'\nimport { useStore } from 'vuex'\nexport default {\n    name: 'signin',\n    setup() {\n        const email = ref('')\n        const password = ref('')\n        const store = useStore()\n        const error = ref(false)\n        const result = ref(false)\n        const isError = ref(false)\n        const submitSiginup = (e) => {\n            e.preventDefault()\n            axios.post('http://localhost:3000/signin', {\n                email: store.state.email,\n                password: store.state.password,\n                headers: { 'Content-Type': 'application/json' }\n            })\n                .then((res) => {\n                    store.state.result = res.data\n                    store.state.isError = false\n                    store.state.delresult = true\n                    localStorage.setItem('user', JSON.stringify(res))\n                    store.state.user = JSON.parse(localStorage.getItem('user'))\n                    console.log(store.state.user);\n                    store.state.results = true\n                })\n                .catch((err) => {\n                    store.state.isError = true\n                    store.state.delresult = false\n                    store.state.results = false\n                    console.log(state.result);\n                    state.error = err.response.data.msg\n                    console.log(err.response)\n                })\n        }\n\n        return {\n            email,\n            password,\n            error,\n            isError,\n            submitSiginup,\n            store,\n            result\n        }\n    }\n}\n</script>\n\n<style scoped>\n@import url('../Style/style.css');\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}